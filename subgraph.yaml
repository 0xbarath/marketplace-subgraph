specVersion: 1.0.0
indexerHints:
  prune: auto
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum
    name: Contract
    network: holesky
    source:
      address: "0x3A307c3D74338F99dafF0df13d5083Ef7B397C45"
      abi: Contract
      startBlock: 0
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - ListingCreated
        - LoanCreated
        - LoanLTVDefault
        - LoanLiquidated
        - LoanMarketplaceCreated
        - LoanRepaid
        - LoanRepaymentDefaulted
        - OfferCreated
      abis:
        - name: Contract
          file: ./abis/Contract.json
      eventHandlers:
        - event: ListingCreated(uint256,address,address,uint256,uint256,uint256,uint256)
          handler: handleListingCreated
        - event: LoanCreated(uint256)
          handler: handleLoanCreated
        - event: LoanLTVDefault(uint256)
          handler: handleLoanLTVDefault
        - event: LoanLiquidated(uint256)
          handler: handleLoanLiquidated
        - event: LoanMarketplaceCreated(address)
          handler: handleLoanMarketplaceCreated
        - event: LoanRepaid(uint256)
          handler: handleLoanRepaid
        - event: LoanRepaymentDefaulted(uint256)
          handler: handleLoanRepaymentDefaulted
        - event: OfferCreated(uint256,address,address,address,uint256,uint256,uint256,uint256)
          handler: handleOfferCreated
      file: ./src/contract.ts
